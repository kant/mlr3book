<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>2.3 Tasks | mlr3 manual</title>
  <meta name="description" content="2.3 Tasks | mlr3 manual" />
  <meta name="generator" content="bookdown 0.12 and GitBook 2.6.7" />

  <meta property="og:title" content="2.3 Tasks | mlr3 manual" />
  <meta property="og:type" content="book" />
  <meta property="og:url" content="https://mlr3book.mlr-org.com" />
  
  
  <meta name="github-repo" content="mlr-org/mlr3book" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="2.3 Tasks | mlr3 manual" />
  
  
  

<meta name="author" content="The mlr-org Team" />


<meta name="date" content="2019-07-12" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="tasks-learners.html">
<link rel="next" href="learners.html">
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />







<script src="libs/kePrint-0.0.1/kePrint.js"></script>
<script src="libs/htmlwidgets-1.3/htmlwidgets.js"></script>
<link href="libs/vis-4.20.1/vis.css" rel="stylesheet" />
<script src="libs/vis-4.20.1/vis.min.js"></script>
<script src="libs/visNetwork-binding-2.0.7/visNetwork.js"></script>


<style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(title);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; } /* Alert */
code span.an { color: #008000; } /* Annotation */
code span.at { } /* Attribute */
code span.bu { } /* BuiltIn */
code span.cf { color: #0000ff; } /* ControlFlow */
code span.ch { color: #008080; } /* Char */
code span.cn { } /* Constant */
code span.co { color: #008000; } /* Comment */
code span.cv { color: #008000; } /* CommentVar */
code span.do { color: #008000; } /* Documentation */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.im { } /* Import */
code span.in { color: #008000; } /* Information */
code span.kw { color: #0000ff; } /* Keyword */
code span.op { } /* Operator */
code span.ot { color: #ff4000; } /* Other */
code span.pp { color: #ff4000; } /* Preprocessor */
code span.sc { color: #008080; } /* SpecialChar */
code span.ss { color: #008080; } /* SpecialString */
code span.st { color: #008080; } /* String */
code span.va { } /* Variable */
code span.vs { color: #008080; } /* VerbatimString */
code span.wa { color: #008000; font-weight: bold; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">mlr3 Manual</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Prerequisites</a></li>
<li class="chapter" data-level="2" data-path="basics.html"><a href="basics.html"><i class="fa fa-check"></i><b>2</b> mlr3 Basics</a><ul>
<li class="chapter" data-level="2.1" data-path="introduction.html"><a href="introduction.html"><i class="fa fa-check"></i><b>2.1</b> Introduction</a></li>
<li class="chapter" data-level="2.2" data-path="tasks-learners.html"><a href="tasks-learners.html"><i class="fa fa-check"></i><b>2.2</b> Tasks &amp; Learners</a></li>
<li class="chapter" data-level="2.3" data-path="tasks.html"><a href="tasks.html"><i class="fa fa-check"></i><b>2.3</b> Tasks</a><ul>
<li class="chapter" data-level="2.3.1" data-path="tasks.html"><a href="tasks.html#task-types"><i class="fa fa-check"></i><b>2.3.1</b> Task Types</a></li>
<li class="chapter" data-level="2.3.2" data-path="tasks.html"><a href="tasks.html#task-creation"><i class="fa fa-check"></i><b>2.3.2</b> Task Creation</a></li>
<li class="chapter" data-level="2.3.3" data-path="tasks.html"><a href="tasks.html#predefined-tasks"><i class="fa fa-check"></i><b>2.3.3</b> Predefined tasks</a></li>
<li class="chapter" data-level="2.3.4" data-path="tasks.html"><a href="tasks.html#task-api"><i class="fa fa-check"></i><b>2.3.4</b> Task API</a><ul>
<li class="chapter" data-level="2.3.4.1" data-path="tasks.html"><a href="tasks.html#retrieve-data"><i class="fa fa-check"></i><b>2.3.4.1</b> Retrieve Data</a></li>
<li class="chapter" data-level="2.3.4.2" data-path="tasks.html"><a href="tasks.html#roles-rows-and-columns"><i class="fa fa-check"></i><b>2.3.4.2</b> Roles (Rows and Columns)</a></li>
<li class="chapter" data-level="2.3.4.3" data-path="tasks.html"><a href="tasks.html#task-mutators"><i class="fa fa-check"></i><b>2.3.4.3</b> Task Mutators</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="learners.html"><a href="learners.html"><i class="fa fa-check"></i><b>2.4</b> Learners</a><ul>
<li class="chapter" data-level="2.4.1" data-path="learners.html"><a href="learners.html#predefined-learners"><i class="fa fa-check"></i><b>2.4.1</b> Predefined Learners</a></li>
</ul></li>
<li class="chapter" data-level="2.5" data-path="train-predict.html"><a href="train-predict.html"><i class="fa fa-check"></i><b>2.5</b> Train &amp; Predict</a><ul>
<li class="chapter" data-level="2.5.1" data-path="train-predict.html"><a href="train-predict.html#basic-concept"><i class="fa fa-check"></i><b>2.5.1</b> Basic concept</a><ul>
<li class="chapter" data-level="2.5.1.1" data-path="train-predict.html"><a href="train-predict.html#creating-task-and-learner-objects"><i class="fa fa-check"></i><b>2.5.1.1</b> Creating Task and Learner Objects</a></li>
<li class="chapter" data-level="2.5.1.2" data-path="train-predict.html"><a href="train-predict.html#setting-up-the-traintest-splits-of-the-data-split-data"><i class="fa fa-check"></i><b>2.5.1.2</b> Setting up the train/test splits of the data (#split-data)</a></li>
<li class="chapter" data-level="2.5.1.3" data-path="train-predict.html"><a href="train-predict.html#training-the-learner"><i class="fa fa-check"></i><b>2.5.1.3</b> Training the learner</a></li>
<li class="chapter" data-level="2.5.1.4" data-path="train-predict.html"><a href="train-predict.html#predicting"><i class="fa fa-check"></i><b>2.5.1.4</b> Predicting</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="2.6" data-path="resampling.html"><a href="resampling.html"><i class="fa fa-check"></i><b>2.6</b> Resampling</a><ul>
<li class="chapter" data-level="2.6.1" data-path="resampling.html"><a href="resampling.html#resamp-settings"><i class="fa fa-check"></i><b>2.6.1</b> Settings</a></li>
<li class="chapter" data-level="2.6.2" data-path="resampling.html"><a href="resampling.html#resamp-inst"><i class="fa fa-check"></i><b>2.6.2</b> Instantiation</a></li>
<li class="chapter" data-level="2.6.3" data-path="resampling.html"><a href="resampling.html#resamp-exec"><i class="fa fa-check"></i><b>2.6.3</b> Execution</a></li>
<li class="chapter" data-level="2.6.4" data-path="resampling.html"><a href="resampling.html#custom-resampling"><i class="fa fa-check"></i><b>2.6.4</b> Custom resampling</a></li>
</ul></li>
<li class="chapter" data-level="2.7" data-path="benchmarking.html"><a href="benchmarking.html"><i class="fa fa-check"></i><b>2.7</b> Benchmarking</a><ul>
<li class="chapter" data-level="2.7.1" data-path="benchmarking.html"><a href="benchmarking.html#bm-design"><i class="fa fa-check"></i><b>2.7.1</b> Design Creation</a></li>
<li class="chapter" data-level="2.7.2" data-path="benchmarking.html"><a href="benchmarking.html#bm-exec"><i class="fa fa-check"></i><b>2.7.2</b> Execution and Aggregation of Results</a></li>
<li class="chapter" data-level="2.7.3" data-path="benchmarking.html"><a href="benchmarking.html#converting-specific-benchmark-objects-to-resample-objects"><i class="fa fa-check"></i><b>2.7.3</b> Converting specific benchmark objects to resample objects</a></li>
</ul></li>
<li class="chapter" data-level="2.8" data-path="binary.html"><a href="binary.html"><i class="fa fa-check"></i><b>2.8</b> Binary classification</a><ul>
<li class="chapter" data-level="2.8.1" data-path="binary.html"><a href="binary.html#roc"><i class="fa fa-check"></i><b>2.8.1</b> ROC</a></li>
<li class="chapter" data-level="2.8.2" data-path="binary.html"><a href="binary.html#thresholds"><i class="fa fa-check"></i><b>2.8.2</b> Thresholds</a></li>
</ul></li>
<li class="chapter" data-level="2.9" data-path="mlr-mlr3-transition-guide.html"><a href="mlr-mlr3-transition-guide.html"><i class="fa fa-check"></i><b>2.9</b> <code>mlr</code> -&gt; <code>mlr3</code> Transition Guide</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="model-optim.html"><a href="model-optim.html"><i class="fa fa-check"></i><b>3</b> Model Optimization</a><ul>
<li class="chapter" data-level="3.1" data-path="tuning.html"><a href="tuning.html"><i class="fa fa-check"></i><b>3.1</b> Hyperparameter Tuning</a><ul>
<li class="chapter" data-level="3.1.1" data-path="tuning.html"><a href="tuning.html#the-performance-evaluator-class"><i class="fa fa-check"></i><b>3.1.1</b> The <code>Performance Evaluator</code> class</a></li>
<li class="chapter" data-level="3.1.2" data-path="tuning.html"><a href="tuning.html#tuning-spaces"><i class="fa fa-check"></i><b>3.1.2</b> Tuning Hyperparameter Spaces</a></li>
<li class="chapter" data-level="3.1.3" data-path="tuning.html"><a href="tuning.html#defining-the-terminator"><i class="fa fa-check"></i><b>3.1.3</b> Defining the Terminator</a></li>
<li class="chapter" data-level="3.1.4" data-path="tuning.html"><a href="tuning.html#executing-the-tuning"><i class="fa fa-check"></i><b>3.1.4</b> Executing the Tuning</a></li>
<li class="chapter" data-level="3.1.5" data-path="tuning.html"><a href="tuning.html#inspecting-results"><i class="fa fa-check"></i><b>3.1.5</b> Inspecting Results</a></li>
<li class="chapter" data-level="3.1.6" data-path="tuning.html"><a href="tuning.html#autotuner"><i class="fa fa-check"></i><b>3.1.6</b> Automating the Tuning</a></li>
<li class="chapter" data-level="3.1.7" data-path="tuning.html"><a href="tuning.html#summary"><i class="fa fa-check"></i><b>3.1.7</b> Summary</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="fs.html"><a href="fs.html"><i class="fa fa-check"></i><b>3.2</b> Feature Selection / Filtering</a><ul>
<li class="chapter" data-level="3.2.1" data-path="fs.html"><a href="fs.html#fs-filter"><i class="fa fa-check"></i><b>3.2.1</b> Filters</a><ul>
<li class="chapter" data-level="3.2.1.1" data-path="fs.html"><a href="fs.html#fs-calc"><i class="fa fa-check"></i><b>3.2.1.1</b> Calculating filter values</a></li>
<li class="chapter" data-level="3.2.1.2" data-path="fs.html"><a href="fs.html#fs-comb"><i class="fa fa-check"></i><b>3.2.1.2</b> Combining filter values</a></li>
<li class="chapter" data-level="3.2.1.3" data-path="fs.html"><a href="fs.html#filter-subset"><i class="fa fa-check"></i><b>3.2.1.3</b> Selecting a feature subset</a></li>
<li class="chapter" data-level="3.2.1.4" data-path="fs.html"><a href="fs.html#filter-construction"><i class="fa fa-check"></i><b>3.2.1.4</b> Custom construction of filters</a></li>
</ul></li>
<li class="chapter" data-level="3.2.2" data-path="fs.html"><a href="fs.html#fs-wrapper"><i class="fa fa-check"></i><b>3.2.2</b> Wrapper Methods</a></li>
<li class="chapter" data-level="3.2.3" data-path="fs.html"><a href="fs.html#fs-embedded"><i class="fa fa-check"></i><b>3.2.3</b> Embedded Methods</a></li>
<li class="chapter" data-level="3.2.4" data-path="fs.html"><a href="fs.html#fs-ensemble"><i class="fa fa-check"></i><b>3.2.4</b> Ensemble Methods</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="nested-resampling.html"><a href="nested-resampling.html"><i class="fa fa-check"></i><b>3.3</b> Nested Resampling</a><ul>
<li class="chapter" data-level="3.3.1" data-path="nested-resampling.html"><a href="nested-resampling.html#introduction-1"><i class="fa fa-check"></i><b>3.3.1</b> Introduction</a></li>
<li class="chapter" data-level="3.3.2" data-path="nested-resampling.html"><a href="nested-resampling.html#execution"><i class="fa fa-check"></i><b>3.3.2</b> Execution</a></li>
<li class="chapter" data-level="3.3.3" data-path="nested-resampling.html"><a href="nested-resampling.html#rr-eval"><i class="fa fa-check"></i><b>3.3.3</b> Evaluation</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="pipelines.html"><a href="pipelines.html"><i class="fa fa-check"></i><b>4</b> Pipelines</a><ul>
<li class="chapter" data-level="4.1" data-path="the-building-blocks-pipeops.html"><a href="the-building-blocks-pipeops.html"><i class="fa fa-check"></i><b>4.1</b> The Building Blocks: PipeOps</a></li>
<li class="chapter" data-level="4.2" data-path="pipe-operator.html"><a href="pipe-operator.html"><i class="fa fa-check"></i><b>4.2</b> The Pipeline Operator: <code>%&gt;&gt;%</code></a></li>
<li class="chapter" data-level="4.3" data-path="pipe-nodes-edges-graphs.html"><a href="pipe-nodes-edges-graphs.html"><i class="fa fa-check"></i><b>4.3</b> Nodes, Edges and Graphs</a></li>
<li class="chapter" data-level="4.4" data-path="pipe-modeling.html"><a href="pipe-modeling.html"><i class="fa fa-check"></i><b>4.4</b> Modeling</a><ul>
<li class="chapter" data-level="4.4.1" data-path="pipe-modeling.html"><a href="pipe-modeling.html#pipe-hyperpars"><i class="fa fa-check"></i><b>4.4.1</b> Setting Hyperparameters</a></li>
<li class="chapter" data-level="4.4.2" data-path="pipe-modeling.html"><a href="pipe-modeling.html#pipe-tuning"><i class="fa fa-check"></i><b>4.4.2</b> Tuning</a></li>
</ul></li>
<li class="chapter" data-level="4.5" data-path="pipe-nonlinear.html"><a href="pipe-nonlinear.html"><i class="fa fa-check"></i><b>4.5</b> Non-Linear Graphs</a><ul>
<li class="chapter" data-level="4.5.1" data-path="pipe-nonlinear.html"><a href="pipe-nonlinear.html#pipe-model-ensembles-branching-copying"><i class="fa fa-check"></i><b>4.5.1</b> Branching &amp; Copying</a></li>
<li class="chapter" data-level="4.5.2" data-path="pipe-nonlinear.html"><a href="pipe-nonlinear.html#pipe-model-ensembles"><i class="fa fa-check"></i><b>4.5.2</b> Model Ensembles</a><ul>
<li class="chapter" data-level="4.5.2.1" data-path="pipe-nonlinear.html"><a href="pipe-nonlinear.html#pipe-model-ensembles-bagging"><i class="fa fa-check"></i><b>4.5.2.1</b> Bagging</a></li>
<li class="chapter" data-level="4.5.2.2" data-path="pipe-nonlinear.html"><a href="pipe-nonlinear.html#pipe-model-ensembles-stacking"><i class="fa fa-check"></i><b>4.5.2.2</b> Stacking</a></li>
<li class="chapter" data-level="4.5.2.3" data-path="pipe-nonlinear.html"><a href="pipe-nonlinear.html#multilevel-stacking"><i class="fa fa-check"></i><b>4.5.2.3</b> Multilevel Stacking</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4.6" data-path="pipe-special-ops.html"><a href="pipe-special-ops.html"><i class="fa fa-check"></i><b>4.6</b> Special Operators</a><ul>
<li class="chapter" data-level="4.6.1" data-path="pipe-special-ops.html"><a href="pipe-special-ops.html#imputation-pipeopimpute"><i class="fa fa-check"></i><b>4.6.1</b> Imputation: <span><code>PipeOpImpute</code></span></a></li>
<li class="chapter" data-level="4.6.2" data-path="pipe-special-ops.html"><a href="pipe-special-ops.html#feature-engineering-pipeopmutate"><i class="fa fa-check"></i><b>4.6.2</b> Feature Engineering: <span><code>PipeOpMutate</code></span></a></li>
<li class="chapter" data-level="4.6.3" data-path="pipe-special-ops.html"><a href="pipe-special-ops.html#training-on-data-subsets-pipeopchunk"><i class="fa fa-check"></i><b>4.6.3</b> Training on data subsets: <span><code>PipeOpChunk</code></span></a></li>
<li class="chapter" data-level="4.6.4" data-path="pipe-special-ops.html"><a href="pipe-special-ops.html#feature-selection-pipeopfilter-pipeopselect"><i class="fa fa-check"></i><b>4.6.4</b> Feature Selection: <span><code>PipeOpFilter</code></span> , <span><code>PipeOpSelect</code></span></a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="technical.html"><a href="technical.html"><i class="fa fa-check"></i><b>5</b> Technical</a><ul>
<li class="chapter" data-level="5.1" data-path="parallelization.html"><a href="parallelization.html"><i class="fa fa-check"></i><b>5.1</b> Parallelization</a></li>
<li class="chapter" data-level="5.2" data-path="error-handling.html"><a href="error-handling.html"><i class="fa fa-check"></i><b>5.2</b> Error Handling</a><ul>
<li class="chapter" data-level="5.2.1" data-path="error-handling.html"><a href="error-handling.html#encapsulation"><i class="fa fa-check"></i><b>5.2.1</b> Encapsulation</a></li>
<li class="chapter" data-level="5.2.2" data-path="error-handling.html"><a href="error-handling.html#fallback-learners"><i class="fa fa-check"></i><b>5.2.2</b> Fallback learners</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="backends.html"><a href="backends.html"><i class="fa fa-check"></i><b>5.3</b> Database Backends</a><ul>
<li class="chapter" data-level="5.3.1" data-path="backends.html"><a href="backends.html#example-data"><i class="fa fa-check"></i><b>5.3.1</b> Example Data</a></li>
<li class="chapter" data-level="5.3.2" data-path="backends.html"><a href="backends.html#preprocessing-with-dplyr"><i class="fa fa-check"></i><b>5.3.2</b> Preprocessing with <code>dplyr</code></a></li>
<li class="chapter" data-level="5.3.3" data-path="backends.html"><a href="backends.html#databackenddplyr"><i class="fa fa-check"></i><b>5.3.3</b> DataBackendDplyr</a></li>
<li class="chapter" data-level="5.3.4" data-path="backends.html"><a href="backends.html#model-fitting"><i class="fa fa-check"></i><b>5.3.4</b> Model fitting</a></li>
<li class="chapter" data-level="5.3.5" data-path="backends.html"><a href="backends.html#cleanup"><i class="fa fa-check"></i><b>5.3.5</b> Cleanup</a></li>
</ul></li>
<li class="chapter" data-level="5.4" data-path="paradox.html"><a href="paradox.html"><i class="fa fa-check"></i><b>5.4</b> Parameters (using <code>paradox</code>)</a><ul>
<li class="chapter" data-level="5.4.1" data-path="paradox.html"><a href="paradox.html#reference-based-objects"><i class="fa fa-check"></i><b>5.4.1</b> Reference Based Objects</a></li>
<li class="chapter" data-level="5.4.2" data-path="paradox.html"><a href="paradox.html#defining-a-parameter-space"><i class="fa fa-check"></i><b>5.4.2</b> Defining a Parameter Space</a><ul>
<li class="chapter" data-level="5.4.2.1" data-path="paradox.html"><a href="paradox.html#single-parameters"><i class="fa fa-check"></i><b>5.4.2.1</b> Single Parameters</a></li>
<li class="chapter" data-level="5.4.2.2" data-path="paradox.html"><a href="paradox.html#parameter-sets"><i class="fa fa-check"></i><b>5.4.2.2</b> Parameter Sets</a></li>
<li class="chapter" data-level="5.4.2.3" data-path="paradox.html"><a href="paradox.html#vector-parameters"><i class="fa fa-check"></i><b>5.4.2.3</b> Vector Parameters</a></li>
</ul></li>
<li class="chapter" data-level="5.4.3" data-path="paradox.html"><a href="paradox.html#parameter-sampling"><i class="fa fa-check"></i><b>5.4.3</b> Parameter Sampling</a><ul>
<li class="chapter" data-level="5.4.3.1" data-path="paradox.html"><a href="paradox.html#parameter-designs"><i class="fa fa-check"></i><b>5.4.3.1</b> Parameter Designs</a></li>
<li class="chapter" data-level="5.4.3.2" data-path="paradox.html"><a href="paradox.html#grid-design"><i class="fa fa-check"></i><b>5.4.3.2</b> Grid Design</a></li>
<li class="chapter" data-level="5.4.3.3" data-path="paradox.html"><a href="paradox.html#random-sampling"><i class="fa fa-check"></i><b>5.4.3.3</b> Random Sampling</a></li>
<li class="chapter" data-level="5.4.3.4" data-path="paradox.html"><a href="paradox.html#generalized-sampling-the-sampler-class"><i class="fa fa-check"></i><b>5.4.3.4</b> Generalized Sampling: The <code>Sampler</code> Class</a></li>
</ul></li>
<li class="chapter" data-level="5.4.4" data-path="paradox.html"><a href="paradox.html#parameter-transformation"><i class="fa fa-check"></i><b>5.4.4</b> Parameter Transformation</a><ul>
<li class="chapter" data-level="5.4.4.1" data-path="paradox.html"><a href="paradox.html#transformation-between-types"><i class="fa fa-check"></i><b>5.4.4.1</b> Transformation between Types</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5.5" data-path="extending.html"><a href="extending.html"><i class="fa fa-check"></i><b>5.5</b> Extending mlr3</a><ul>
<li class="chapter" data-level="5.5.1" data-path="extending.html"><a href="extending.html#ext-learner"><i class="fa fa-check"></i><b>5.5.1</b> Learners</a><ul>
<li class="chapter" data-level="5.5.1.1" data-path="extending.html"><a href="extending.html#learner-meta-information"><i class="fa fa-check"></i><b>5.5.1.1</b> Meta-information</a></li>
<li class="chapter" data-level="5.5.1.2" data-path="extending.html"><a href="extending.html#learner-train"><i class="fa fa-check"></i><b>5.5.1.2</b> Train function</a></li>
<li class="chapter" data-level="5.5.1.3" data-path="extending.html"><a href="extending.html#learner-predict"><i class="fa fa-check"></i><b>5.5.1.3</b> Predict function</a></li>
<li class="chapter" data-level="5.5.1.4" data-path="extending.html"><a href="extending.html#final-learner"><i class="fa fa-check"></i><b>5.5.1.4</b> Final learner</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5.6" data-path="extending-pipes.html"><a href="extending-pipes.html"><i class="fa fa-check"></i><b>5.6</b> Extending mlr3pipelines</a><ul>
<li class="chapter" data-level="5.6.1" data-path="extending-pipes.html"><a href="extending-pipes.html#general-case-example-pipeopcopy"><i class="fa fa-check"></i><b>5.6.1</b> General Case Example: <code>PipeOpCopy</code></a><ul>
<li class="chapter" data-level="5.6.1.1" data-path="extending-pipes.html"><a href="extending-pipes.html#first-steps-inheriting-from-pipeop"><i class="fa fa-check"></i><b>5.6.1.1</b> First Steps: Inheriting from <code>PipeOp</code></a></li>
<li class="chapter" data-level="5.6.1.2" data-path="extending-pipes.html"><a href="extending-pipes.html#channel-definitions"><i class="fa fa-check"></i><b>5.6.1.2</b> Channel Definitions</a></li>
<li class="chapter" data-level="5.6.1.3" data-path="extending-pipes.html"><a href="extending-pipes.html#train-and-predict"><i class="fa fa-check"></i><b>5.6.1.3</b> Train and Predict</a></li>
<li class="chapter" data-level="5.6.1.4" data-path="extending-pipes.html"><a href="extending-pipes.html#putting-it-together"><i class="fa fa-check"></i><b>5.6.1.4</b> Putting it Together</a></li>
</ul></li>
<li class="chapter" data-level="5.6.2" data-path="extending-pipes.html"><a href="extending-pipes.html#special-case-preprocessing"><i class="fa fa-check"></i><b>5.6.2</b> Special Case: Preprocessing</a><ul>
<li class="chapter" data-level="5.6.2.1" data-path="extending-pipes.html"><a href="extending-pipes.html#example-pipeopdropna"><i class="fa fa-check"></i><b>5.6.2.1</b> Example: <code>PipeOpDropNA</code></a></li>
<li class="chapter" data-level="5.6.2.2" data-path="extending-pipes.html"><a href="extending-pipes.html#example-pipeopscalealways"><i class="fa fa-check"></i><b>5.6.2.2</b> Example: <code>PipeOpScaleAlways</code></a></li>
</ul></li>
<li class="chapter" data-level="5.6.3" data-path="extending-pipes.html"><a href="extending-pipes.html#special-case-preprocessing-with-simple-train"><i class="fa fa-check"></i><b>5.6.3</b> Special Case: Preprocessing with Simple Train</a><ul>
<li class="chapter" data-level="5.6.3.1" data-path="extending-pipes.html"><a href="extending-pipes.html#example-pipeopdropconst"><i class="fa fa-check"></i><b>5.6.3.1</b> Example: <code>PipeOpDropConst</code></a></li>
<li class="chapter" data-level="5.6.3.2" data-path="extending-pipes.html"><a href="extending-pipes.html#example-pipeopscalealwayssimple"><i class="fa fa-check"></i><b>5.6.3.2</b> Example: <code>PipeOpScaleAlwaysSimple</code></a></li>
</ul></li>
<li class="chapter" data-level="5.6.4" data-path="extending-pipes.html"><a href="extending-pipes.html#hyperparameters"><i class="fa fa-check"></i><b>5.6.4</b> Hyperparameters</a><ul>
<li class="chapter" data-level="5.6.4.1" data-path="extending-pipes.html"><a href="extending-pipes.html#hyperparameter-example-pipeopscale"><i class="fa fa-check"></i><b>5.6.4.1</b> Hyperparameter Example: <code>PipeOpScale</code></a></li>
</ul></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="special-tasks.html"><a href="special-tasks.html"><i class="fa fa-check"></i><b>6</b> Special Tasks</a><ul>
<li class="chapter" data-level="6.1" data-path="survival.html"><a href="survival.html"><i class="fa fa-check"></i><b>6.1</b> Survival Analysis</a></li>
<li class="chapter" data-level="6.2" data-path="ordinal.html"><a href="ordinal.html"><i class="fa fa-check"></i><b>6.2</b> Ordinal Analysis</a></li>
<li class="chapter" data-level="6.3" data-path="spatial.html"><a href="spatial.html"><i class="fa fa-check"></i><b>6.3</b> Spatial Analysis</a></li>
<li class="chapter" data-level="6.4" data-path="functional.html"><a href="functional.html"><i class="fa fa-check"></i><b>6.4</b> Functional Analysis</a></li>
<li class="chapter" data-level="6.5" data-path="multilabel.html"><a href="multilabel.html"><i class="fa fa-check"></i><b>6.5</b> Multilabel Analysis</a></li>
<li class="chapter" data-level="6.6" data-path="cost-sens.html"><a href="cost-sens.html"><i class="fa fa-check"></i><b>6.6</b> Cost-Sensitive Classification</a><ul>
<li class="chapter" data-level="6.6.1" data-path="cost-sens.html"><a href="cost-sens.html#a-first-model"><i class="fa fa-check"></i><b>6.6.1</b> A First Model</a></li>
<li class="chapter" data-level="6.6.2" data-path="cost-sens.html"><a href="cost-sens.html#cost-sensitive-measure"><i class="fa fa-check"></i><b>6.6.2</b> Cost-sensitive Measure</a></li>
<li class="chapter" data-level="6.6.3" data-path="cost-sens.html"><a href="cost-sens.html#thresholding"><i class="fa fa-check"></i><b>6.6.3</b> Thresholding</a></li>
<li class="chapter" data-level="6.6.4" data-path="cost-sens.html"><a href="cost-sens.html#threshold-tuning"><i class="fa fa-check"></i><b>6.6.4</b> Threshold Tuning</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="7" data-path="model-interpr.html"><a href="model-interpr.html"><i class="fa fa-check"></i><b>7</b> Model Interpretation with mlr3</a><ul>
<li class="chapter" data-level="7.1" data-path="iml.html"><a href="iml.html"><i class="fa fa-check"></i><b>7.1</b> IML</a></li>
<li class="chapter" data-level="7.2" data-path="dalex.html"><a href="dalex.html"><i class="fa fa-check"></i><b>7.2</b> Dalex</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="use-cases.html"><a href="use-cases.html"><i class="fa fa-check"></i><b>8</b> Use Cases</a></li>
<li class="chapter" data-level="9" data-path="appendix.html"><a href="appendix.html"><i class="fa fa-check"></i><b>9</b> Appendix</a><ul>
<li class="chapter" data-level="9.1" data-path="list-learners.html"><a href="list-learners.html"><i class="fa fa-check"></i><b>9.1</b> Integrated Learners</a></li>
<li class="chapter" data-level="9.2" data-path="list-filters.html"><a href="list-filters.html"><i class="fa fa-check"></i><b>9.2</b> Integrated Filter Methods</a><ul>
<li class="chapter" data-level="9.2.1" data-path="list-filters.html"><a href="list-filters.html#fs-filter-list"><i class="fa fa-check"></i><b>9.2.1</b> Standalone filter methods</a></li>
<li class="chapter" data-level="9.2.2" data-path="list-filters.html"><a href="list-filters.html#fs-filter-embedded-list"><i class="fa fa-check"></i><b>9.2.2</b> Algorithms With Embedded Filter Methods</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">mlr3 manual</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="tasks" class="section level2">
<h2><span class="header-section-number">2.3</span> Tasks</h2>
<p><strong>Tasks</strong> are objects that include the data set and additional meta information about a machine-learning problem.
This could be the name of the target variable for supervised problems or whether the data set belongs to a specific community of datasets (e.g. a <em>spatial</em> or <em>survival</em> dataset).
This information can be used at different points of the workflow to account for specific characteristics of these dataset types.</p>
<div id="task-types" class="section level3">
<h3><span class="header-section-number">2.3.1</span> Task Types</h3>
<p>To create a task from a <a href="https://www.rdocumentation.org/packages/base/topics/data.frame"><code>data.frame()</code></a> or <a href="https://www.rdocumentation.org/packages/data.table/topics/data.table-package"><code>data.table()</code></a> object, the task type needs to be selected:</p>
<ul>
<li><strong>Classification Task</strong>: Target column is labels (stored as <code>character()</code>/<code>factor()</code>) with only few distinct values.
<br><span class="math inline">\(\Rightarrow\)</span> <a href="https://mlr3.mlr-org.com/reference/TaskClassif.html"><code>mlr3::TaskClassif</code></a></li>
<li><strong>Regression Task</strong>: Target column is numeric (stored as <code>integer()</code>/<code>double()</code>).
<br><span class="math inline">\(\Rightarrow\)</span> <a href="https://mlr3.mlr-org.com/reference/TaskRegr.html"><code>mlr3::TaskRegr</code></a></li>
<li><strong>Survival Task</strong>: Target is the (right-censored) time to event.
<br><span class="math inline">\(\Rightarrow\)</span> <a href="https://mlr3survival.mlr-org.com/reference/TaskSurv.html"><code>mlr3survival::TaskSurv</code></a> in add-on package <a href="https://mlr3surival.mlr-org.com">mlr3surival</a></li>
<li><strong>Ordinal Regression Task</strong>: Target is ordinal.
<br><span class="math inline">\(\Rightarrow\)</span> <a href="https://mlr3ordinal.mlr-org.com/reference/TaskOrdinal.html"><code>mlr3ordinal::TaskOrdinal</code></a> in add-on package <a href="https://mlr3ordinal.mlr-org.com">mlr3ordinal</a></li>
<li><strong>Cluster Task</strong>: You don’t have a target but want to identify similarities in the feature space.
<br><span class="math inline">\(\Rightarrow\)</span> Not yet implemented</li>
<li><strong>Spatial Task</strong>: The observations come with spatio-temporal information (e.g. coordinates).
<br><span class="math inline">\(\Rightarrow\)</span> Not yet implemented in add-on package <a href="https://mlr3spatiotemporal.mlr-org.com">mlr3spatiotemporal</a></li>
</ul>
</div>
<div id="task-creation" class="section level3">
<h3><span class="header-section-number">2.3.2</span> Task Creation</h3>
<p>Let’s assume we want to create a simple regression task using the <code>mtcars</code> data set from the package <code>datasets</code> to predict the column <code>"mpg"</code> (miles per gallon).
For this showcase we only take the first two features to keep the output in the following examples compact.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb3-1" title="1"><span class="kw">data</span>(<span class="st">&quot;mtcars&quot;</span>, <span class="dt">package =</span> <span class="st">&quot;datasets&quot;</span>)</a>
<a class="sourceLine" id="cb3-2" title="2">data =<span class="st"> </span>mtcars[, <span class="dv">1</span><span class="op">:</span><span class="dv">3</span>]</a>
<a class="sourceLine" id="cb3-3" title="3"><span class="kw">str</span>(data)</a>
<a class="sourceLine" id="cb3-4" title="4"><span class="co">## &#39;data.frame&#39;:    32 obs. of  3 variables:</span></a>
<a class="sourceLine" id="cb3-5" title="5"><span class="co">##  $ mpg : num  21 21 22.8 21.4 18.7 18.1 14.3 24.4 22.8 19.2 ...</span></a>
<a class="sourceLine" id="cb3-6" title="6"><span class="co">##  $ cyl : num  6 6 4 6 8 6 8 4 4 6 ...</span></a>
<a class="sourceLine" id="cb3-7" title="7"><span class="co">##  $ disp: num  160 160 108 258 360 ...</span></a></code></pre></div>
<p>Next, we create the task by providing the following information:</p>
<ol style="list-style-type: decimal">
<li><code>id</code>: Identifier for the task, used in plots and summaries.</li>
<li><code>backend</code>: Here, we simply provide the dataset. It is internally converted to a <a href="https://mlr3.mlr-org.com/reference/DataBackendDataTable.html"><code>DataBackendDataTable</code></a>.
For more fine-grain control over how the data is stored internally, we could also construct a <a href="https://mlr3.mlr-org.com/reference/DataBackend.html"><code>DataBackend</code></a> manually.</li>
<li><code>target</code>: Column name of the target column for the regression problem.</li>
</ol>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb4-1" title="1"><span class="kw">library</span>(mlr3)</a>
<a class="sourceLine" id="cb4-2" title="2"></a>
<a class="sourceLine" id="cb4-3" title="3">task_mtcars =<span class="st"> </span>TaskRegr<span class="op">$</span><span class="kw">new</span>(<span class="dt">id =</span> <span class="st">&quot;cars&quot;</span>, <span class="dt">backend =</span> data, <span class="dt">target =</span> <span class="st">&quot;mpg&quot;</span>)</a>
<a class="sourceLine" id="cb4-4" title="4"><span class="kw">print</span>(task_mtcars)</a>
<a class="sourceLine" id="cb4-5" title="5"><span class="co">## &lt;TaskRegr:cars&gt; (32 x 3)</span></a>
<a class="sourceLine" id="cb4-6" title="6"><span class="co">## Target: mpg</span></a>
<a class="sourceLine" id="cb4-7" title="7"><span class="co">## Properties: -</span></a>
<a class="sourceLine" id="cb4-8" title="8"><span class="co">## Features (2):</span></a>
<a class="sourceLine" id="cb4-9" title="9"><span class="co">## * dbl (2): cyl, disp</span></a></code></pre></div>
<p>The <code>print()</code> method gives a short summary of the task: It has 32 observations, 3 columns of which 2 columns are features.</p>
<p>We can also print the task using the <a href="https://mlr3viz.mlr-org.com">mlr3viz</a> package:</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb5-1" title="1"><span class="kw">library</span>(mlr3viz)</a>
<a class="sourceLine" id="cb5-2" title="2"><span class="kw">autoplot</span>(task_mtcars, <span class="dt">type =</span> <span class="st">&quot;pairs&quot;</span>)</a>
<a class="sourceLine" id="cb5-3" title="3"><span class="co">## Registered S3 method overwritten by &#39;GGally&#39;:</span></a>
<a class="sourceLine" id="cb5-4" title="4"><span class="co">##   method from   </span></a>
<a class="sourceLine" id="cb5-5" title="5"><span class="co">##   +.gg   ggplot2</span></a></code></pre></div>
<p><img src="mlr3book_files/figure-html/01-mlr3-basics-004-1.svg" width="672" /></p>
</div>
<div id="predefined-tasks" class="section level3">
<h3><span class="header-section-number">2.3.3</span> Predefined tasks</h3>
<p><code>mlr3</code> ships with some predefined machine-learning tasks.
These are stored in a R6 <a href="https://mlr3misc.mlr-org.com/reference/Dictionary.html"><code>Dictionary</code></a>, which is a simple key-value storage named <code>mlr3::mlr_tasks</code>.
If we simply print it out, we see that is has 9 entries:</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb6-1" title="1">mlr_tasks</a>
<a class="sourceLine" id="cb6-2" title="2"><span class="co">## &lt;DictionaryTask&gt; with 9 stored values</span></a>
<a class="sourceLine" id="cb6-3" title="3"><span class="co">## Keys: boston_housing, german_credit, iris, mtcars, pima, sonar, spam,</span></a>
<a class="sourceLine" id="cb6-4" title="4"><span class="co">##   wine, zoo</span></a></code></pre></div>
<p>We can obtain a summarizing overview of all stored tasks by converting the dictionary to a <code>data.table()</code> object</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb7-1" title="1"><span class="kw">library</span>(data.table)</a>
<a class="sourceLine" id="cb7-2" title="2"><span class="kw">as.data.table</span>(mlr_tasks)</a>
<a class="sourceLine" id="cb7-3" title="3"><span class="co">##               key task_type nrow ncol lgl int dbl chr fct ord pxc</span></a>
<a class="sourceLine" id="cb7-4" title="4"><span class="co">## 1: boston_housing      regr  506   19   0   3  13   0   2   0   0</span></a>
<a class="sourceLine" id="cb7-5" title="5"><span class="co">## 2:  german_credit   classif 1000   21   0   0   7   0  12   1   0</span></a>
<a class="sourceLine" id="cb7-6" title="6"><span class="co">## 3:           iris   classif  150    5   0   0   4   0   0   0   0</span></a>
<a class="sourceLine" id="cb7-7" title="7"><span class="co">## 4:         mtcars      regr   32   11   0   0  10   0   0   0   0</span></a>
<a class="sourceLine" id="cb7-8" title="8"><span class="co">## 5:           pima   classif  768    9   0   0   8   0   0   0   0</span></a>
<a class="sourceLine" id="cb7-9" title="9"><span class="co">## 6:          sonar   classif  208   61   0   0  60   0   0   0   0</span></a>
<a class="sourceLine" id="cb7-10" title="10"><span class="co">## 7:           spam   classif 4601   58   0   0  57   0   0   0   0</span></a>
<a class="sourceLine" id="cb7-11" title="11"><span class="co">## 8:           wine   classif  178   14   0   2  11   0   0   0   0</span></a>
<a class="sourceLine" id="cb7-12" title="12"><span class="co">## 9:            zoo   classif  101   17  15   1   0   0   0   0   0</span></a></code></pre></div>
<p>To create a <strong>task</strong> from the dictionary (think of it as a book shelf), we use the <code>$get()</code> method from the <code>mlr_tasks</code> class and assign it to a new object.</p>
<p>For example, if we would like to use the <a href="https://en.wikipedia.org/wiki/Iris_flower_data_set">iris data set</a> for classification:</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb8-1" title="1">task_iris =<span class="st"> </span>mlr_tasks<span class="op">$</span><span class="kw">get</span>(<span class="st">&quot;iris&quot;</span>)</a>
<a class="sourceLine" id="cb8-2" title="2"><span class="kw">print</span>(task_iris)</a>
<a class="sourceLine" id="cb8-3" title="3"><span class="co">## &lt;TaskClassif:iris&gt; (150 x 5)</span></a>
<a class="sourceLine" id="cb8-4" title="4"><span class="co">## Target: Species</span></a>
<a class="sourceLine" id="cb8-5" title="5"><span class="co">## Properties: multiclass</span></a>
<a class="sourceLine" id="cb8-6" title="6"><span class="co">## Features (4):</span></a>
<a class="sourceLine" id="cb8-7" title="7"><span class="co">## * dbl (4): Petal.Length, Petal.Width, Sepal.Length, Sepal.Width</span></a></code></pre></div>
</div>
<div id="task-api" class="section level3">
<h3><span class="header-section-number">2.3.4</span> Task API</h3>
<p>All <strong>task</strong> properties and characteristics can be queried using the task’s public member values and methods (see <a href="https://mlr3.mlr-org.com/reference/Task.html"><code>Task</code></a>).</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb9-1" title="1">task_iris =<span class="st"> </span>mlr_tasks<span class="op">$</span><span class="kw">get</span>(<span class="st">&quot;iris&quot;</span>)</a></code></pre></div>
<ul>
<li>Member values: Values stored in the object that can be queried by the user</li>
</ul>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb10-1" title="1"><span class="co"># public member values</span></a>
<a class="sourceLine" id="cb10-2" title="2">task_iris<span class="op">$</span>nrow</a>
<a class="sourceLine" id="cb10-3" title="3"><span class="co">## [1] 150</span></a>
<a class="sourceLine" id="cb10-4" title="4">task_iris<span class="op">$</span>ncol</a>
<a class="sourceLine" id="cb10-5" title="5"><span class="co">## [1] 5</span></a></code></pre></div>
<ul>
<li>Member methods: Functions from the object that can accept arguments and return information stored in the object</li>
</ul>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb11-1" title="1"><span class="co"># public member methods</span></a>
<a class="sourceLine" id="cb11-2" title="2">task_iris<span class="op">$</span><span class="kw">head</span>(<span class="dt">n =</span> <span class="dv">3</span>)</a>
<a class="sourceLine" id="cb11-3" title="3"><span class="co">##    Species Petal.Length Petal.Width Sepal.Length Sepal.Width</span></a>
<a class="sourceLine" id="cb11-4" title="4"><span class="co">## 1:  setosa          1.4         0.2          5.1         3.5</span></a>
<a class="sourceLine" id="cb11-5" title="5"><span class="co">## 2:  setosa          1.4         0.2          4.9         3.0</span></a>
<a class="sourceLine" id="cb11-6" title="6"><span class="co">## 3:  setosa          1.3         0.2          4.7         3.2</span></a></code></pre></div>
<div id="retrieve-data" class="section level4">
<h4><span class="header-section-number">2.3.4.1</span> Retrieve Data</h4>
<p>In <code>mlr3</code>, each row (observation) has a unique identifier which can be either <code>integer</code> or <code>character</code>.
These can be used to select specific rows.</p>
<p>The <em>iris</em> dataset uses integer <code>row_ids</code>:</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb12-1" title="1"><span class="co"># iris uses integer row_ids</span></a>
<a class="sourceLine" id="cb12-2" title="2"><span class="kw">head</span>(task_iris<span class="op">$</span>row_ids)</a>
<a class="sourceLine" id="cb12-3" title="3"><span class="co">## [1] 1 2 3 4 5 6</span></a>
<a class="sourceLine" id="cb12-4" title="4"></a>
<a class="sourceLine" id="cb12-5" title="5"><span class="co"># retrieve data for rows with ids 1, 51, and 101</span></a>
<a class="sourceLine" id="cb12-6" title="6">task_iris<span class="op">$</span><span class="kw">data</span>(<span class="dt">rows =</span> <span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">51</span>, <span class="dv">101</span>))</a>
<a class="sourceLine" id="cb12-7" title="7"><span class="co">##       Species Petal.Length Petal.Width Sepal.Length Sepal.Width</span></a>
<a class="sourceLine" id="cb12-8" title="8"><span class="co">## 1:     setosa          1.4         0.2          5.1         3.5</span></a>
<a class="sourceLine" id="cb12-9" title="9"><span class="co">## 2: versicolor          4.7         1.4          7.0         3.2</span></a>
<a class="sourceLine" id="cb12-10" title="10"><span class="co">## 3:  virginica          6.0         2.5          6.3         3.3</span></a></code></pre></div>
<p>While the <em>mtcars</em> dataset uses names for its <code>row_ids</code>, encoded as <code>character</code>:</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb13-1" title="1"><span class="kw">head</span>(task_mtcars<span class="op">$</span>row_ids)</a>
<a class="sourceLine" id="cb13-2" title="2"><span class="co">## [1] &quot;AMC Javelin&quot;        &quot;Cadillac Fleetwood&quot; &quot;Camaro Z28&quot;        </span></a>
<a class="sourceLine" id="cb13-3" title="3"><span class="co">## [4] &quot;Chrysler Imperial&quot;  &quot;Datsun 710&quot;         &quot;Dodge Challenger&quot;</span></a>
<a class="sourceLine" id="cb13-4" title="4"></a>
<a class="sourceLine" id="cb13-5" title="5"><span class="co"># retrieve data for rows with id &quot;Datsun 710&quot;</span></a>
<a class="sourceLine" id="cb13-6" title="6">task_mtcars<span class="op">$</span><span class="kw">data</span>(<span class="dt">rows =</span> <span class="st">&quot;Datsun 710&quot;</span>)</a>
<a class="sourceLine" id="cb13-7" title="7"><span class="co">##     mpg cyl disp</span></a>
<a class="sourceLine" id="cb13-8" title="8"><span class="co">## 1: 22.8   4  108</span></a></code></pre></div>
<p>Note that the method <code>$data()</code> is only an accessor and does not modify the underlying data/task.</p>
<p>Analogously, each column has an identifier, which is often just called “column name”.
These are stored in the public slots <code>feature_names</code> and <code>target_names</code>.
Here “target” refers to the response variable and “feature” to the predictor variables of the task.</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb14-1" title="1">task_iris<span class="op">$</span>feature_names</a>
<a class="sourceLine" id="cb14-2" title="2"><span class="co">## [1] &quot;Petal.Length&quot; &quot;Petal.Width&quot;  &quot;Sepal.Length&quot; &quot;Sepal.Width&quot;</span></a>
<a class="sourceLine" id="cb14-3" title="3">task_iris<span class="op">$</span>target_names</a>
<a class="sourceLine" id="cb14-4" title="4"><span class="co">## [1] &quot;Species&quot;</span></a></code></pre></div>
<p>The <code>row_id</code> names and the “column names” can be combined for subsetting:</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb15-1" title="1"><span class="co"># retrieve data for rows 1, 51, and 101 and only select column &quot;Species&quot;</span></a>
<a class="sourceLine" id="cb15-2" title="2">task_iris<span class="op">$</span><span class="kw">data</span>(<span class="dt">rows =</span> <span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">51</span>, <span class="dv">101</span>), <span class="dt">cols =</span> <span class="st">&quot;Species&quot;</span>)</a>
<a class="sourceLine" id="cb15-3" title="3"><span class="co">##       Species</span></a>
<a class="sourceLine" id="cb15-4" title="4"><span class="co">## 1:     setosa</span></a>
<a class="sourceLine" id="cb15-5" title="5"><span class="co">## 2: versicolor</span></a>
<a class="sourceLine" id="cb15-6" title="6"><span class="co">## 3:  virginica</span></a></code></pre></div>
<p>To extract the complete dataset from the task, we can simply convert the task to a <code>data.table</code>:</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb16-1" title="1"><span class="kw">summary</span>(<span class="kw">as.data.table</span>(task_iris))</a>
<a class="sourceLine" id="cb16-2" title="2"><span class="co">##        Species    Petal.Length   Petal.Width   Sepal.Length   Sepal.Width  </span></a>
<a class="sourceLine" id="cb16-3" title="3"><span class="co">##  setosa    :50   Min.   :1.00   Min.   :0.1   Min.   :4.30   Min.   :2.00  </span></a>
<a class="sourceLine" id="cb16-4" title="4"><span class="co">##  versicolor:50   1st Qu.:1.60   1st Qu.:0.3   1st Qu.:5.10   1st Qu.:2.80  </span></a>
<a class="sourceLine" id="cb16-5" title="5"><span class="co">##  virginica :50   Median :4.35   Median :1.3   Median :5.80   Median :3.00  </span></a>
<a class="sourceLine" id="cb16-6" title="6"><span class="co">##                  Mean   :3.76   Mean   :1.2   Mean   :5.84   Mean   :3.06  </span></a>
<a class="sourceLine" id="cb16-7" title="7"><span class="co">##                  3rd Qu.:5.10   3rd Qu.:1.8   3rd Qu.:6.40   3rd Qu.:3.30  </span></a>
<a class="sourceLine" id="cb16-8" title="8"><span class="co">##                  Max.   :6.90   Max.   :2.5   Max.   :7.90   Max.   :4.40</span></a></code></pre></div>
</div>
<div id="roles-rows-and-columns" class="section level4">
<h4><span class="header-section-number">2.3.4.2</span> Roles (Rows and Columns)</h4>
<p>It is possible to assign a special meanings (aka “roles”) to (subsets of) rows and columns.</p>
<p>For example, the previously constructed <em>mtcars</em> task has the following column roles:</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb17-1" title="1"><span class="kw">print</span>(task_mtcars<span class="op">$</span>col_roles)</a>
<a class="sourceLine" id="cb17-2" title="2"><span class="co">## $feature</span></a>
<a class="sourceLine" id="cb17-3" title="3"><span class="co">## [1] &quot;cyl&quot;  &quot;disp&quot;</span></a>
<a class="sourceLine" id="cb17-4" title="4"><span class="co">## </span></a>
<a class="sourceLine" id="cb17-5" title="5"><span class="co">## $target</span></a>
<a class="sourceLine" id="cb17-6" title="6"><span class="co">## [1] &quot;mpg&quot;</span></a>
<a class="sourceLine" id="cb17-7" title="7"><span class="co">## </span></a>
<a class="sourceLine" id="cb17-8" title="8"><span class="co">## $label</span></a>
<a class="sourceLine" id="cb17-9" title="9"><span class="co">## character(0)</span></a>
<a class="sourceLine" id="cb17-10" title="10"><span class="co">## </span></a>
<a class="sourceLine" id="cb17-11" title="11"><span class="co">## $order</span></a>
<a class="sourceLine" id="cb17-12" title="12"><span class="co">## character(0)</span></a>
<a class="sourceLine" id="cb17-13" title="13"><span class="co">## </span></a>
<a class="sourceLine" id="cb17-14" title="14"><span class="co">## $groups</span></a>
<a class="sourceLine" id="cb17-15" title="15"><span class="co">## character(0)</span></a>
<a class="sourceLine" id="cb17-16" title="16"><span class="co">## </span></a>
<a class="sourceLine" id="cb17-17" title="17"><span class="co">## $weights</span></a>
<a class="sourceLine" id="cb17-18" title="18"><span class="co">## character(0)</span></a></code></pre></div>
<p>Now, we want the original <code>rownames()</code> of <code>mtcars</code> to be a regular feature column.
Thus, we first preprocess the <code>data.frame</code> and then re-create the task.</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb18-1" title="1"><span class="co"># with `keep.rownames`, data.table stores the row names in an extra column &quot;rn&quot;</span></a>
<a class="sourceLine" id="cb18-2" title="2">data =<span class="st"> </span><span class="kw">as.data.table</span>(mtcars[, <span class="dv">1</span><span class="op">:</span><span class="dv">3</span>], <span class="dt">keep.rownames =</span> <span class="ot">TRUE</span>)</a>
<a class="sourceLine" id="cb18-3" title="3">task =<span class="st"> </span>TaskRegr<span class="op">$</span><span class="kw">new</span>(<span class="dt">id =</span> <span class="st">&quot;cars&quot;</span>, <span class="dt">backend =</span> data, <span class="dt">target =</span> <span class="st">&quot;mpg&quot;</span>)</a>
<a class="sourceLine" id="cb18-4" title="4"></a>
<a class="sourceLine" id="cb18-5" title="5"><span class="co"># we now have integer row_ids</span></a>
<a class="sourceLine" id="cb18-6" title="6">task<span class="op">$</span>row_ids</a>
<a class="sourceLine" id="cb18-7" title="7"><span class="co">##  [1]  1  2  3  4  5  6  7  8  9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25</span></a>
<a class="sourceLine" id="cb18-8" title="8"><span class="co">## [26] 26 27 28 29 30 31 32</span></a>
<a class="sourceLine" id="cb18-9" title="9"></a>
<a class="sourceLine" id="cb18-10" title="10"><span class="co"># there is a new &quot;feature&quot; called &quot;rn&quot;</span></a>
<a class="sourceLine" id="cb18-11" title="11">task<span class="op">$</span>feature_names</a>
<a class="sourceLine" id="cb18-12" title="12"><span class="co">## [1] &quot;cyl&quot;  &quot;disp&quot; &quot;rn&quot;</span></a></code></pre></div>
<p>The column “rn” is now a regular feature.
As this is a unique string column, most machine-learning algorithms will have problems to process this feature without some kind of preprocessing.
However, we still might want to carry <code>rn</code> around for different reasons.
For example, we can use the row names in plots or to associate outliers with the row names.
This being said, we need to change the role of the row names column <code>rn</code> and remove it from the set of active features.</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb19-1" title="1">task<span class="op">$</span>feature_names</a>
<a class="sourceLine" id="cb19-2" title="2"><span class="co">## [1] &quot;cyl&quot;  &quot;disp&quot; &quot;rn&quot;</span></a>
<a class="sourceLine" id="cb19-3" title="3">task<span class="op">$</span><span class="kw">set_col_role</span>(<span class="st">&quot;rn&quot;</span>, <span class="dt">new_roles =</span> <span class="st">&quot;label&quot;</span>)</a>
<a class="sourceLine" id="cb19-4" title="4"></a>
<a class="sourceLine" id="cb19-5" title="5"><span class="co"># &quot;rn&quot; not listed as feature any more</span></a>
<a class="sourceLine" id="cb19-6" title="6">task<span class="op">$</span>feature_names</a>
<a class="sourceLine" id="cb19-7" title="7"><span class="co">## [1] &quot;cyl&quot;  &quot;disp&quot;</span></a>
<a class="sourceLine" id="cb19-8" title="8"></a>
<a class="sourceLine" id="cb19-9" title="9"><span class="co"># also vanished from &quot;data&quot; and &quot;head&quot;</span></a>
<a class="sourceLine" id="cb19-10" title="10">task<span class="op">$</span><span class="kw">data</span>(<span class="dt">rows =</span> <span class="dv">1</span><span class="op">:</span><span class="dv">2</span>)</a>
<a class="sourceLine" id="cb19-11" title="11"><span class="co">##    mpg cyl disp</span></a>
<a class="sourceLine" id="cb19-12" title="12"><span class="co">## 1:  21   6  160</span></a>
<a class="sourceLine" id="cb19-13" title="13"><span class="co">## 2:  21   6  160</span></a>
<a class="sourceLine" id="cb19-14" title="14">task<span class="op">$</span><span class="kw">head</span>(<span class="dv">2</span>)</a>
<a class="sourceLine" id="cb19-15" title="15"><span class="co">##    mpg cyl disp</span></a>
<a class="sourceLine" id="cb19-16" title="16"><span class="co">## 1:  21   6  160</span></a>
<a class="sourceLine" id="cb19-17" title="17"><span class="co">## 2:  21   6  160</span></a></code></pre></div>
<p>Note that no copies of the underlying data is inflicted by this operation.
By changing roles, only the view on the data is changed, not the data itself.</p>
<p>Just like columns, it is also possible to assign different roles to rows.
Rows can have two different roles:</p>
<ol style="list-style-type: decimal">
<li>Role <code>"use"</code>:
Rows that are generally available for model fitting (although they may also be used as test set in resampling).
This is the default role.</li>
<li>Role <code>"validation"</code>:
Rows that are held back (see below).
Rows which have missing values in the target column upon task creation are automatically moved to the validation set.</li>
</ol>
<p>There are several reasons to hold some observations back or treat them differently:</p>
<ol style="list-style-type: decimal">
<li>It is often good practice to validate the final model on an external validation set to uncover possible overfitting.</li>
<li>Some observations may be unlabeled, e.g. in data mining cups or <a href="https://www.kaggle.com/">Kaggle</a> competitions.
These observations cannot be used for training a model, but you can still predict labels.</li>
</ol>
</div>
<div id="task-mutators" class="section level4">
<h4><span class="header-section-number">2.3.4.3</span> Task Mutators</h4>
<p>Task methods <code>.$set_col_role()</code> and <code>.$set_row_role()</code> change the view on the data and can be used to subset the task.
For convenience, method <code>.$filter()</code> subsets the task based on row ids, and <code>.$select()</code> subsets the task based on feature names.
All these operations only change the view on the data, without creating a copy of it, but modify the task in-place.</p>
<div class="sourceCode" id="cb20"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb20-1" title="1">task =<span class="st"> </span>mlr_tasks<span class="op">$</span><span class="kw">get</span>(<span class="st">&quot;iris&quot;</span>)</a>
<a class="sourceLine" id="cb20-2" title="2">task<span class="op">$</span><span class="kw">select</span>(<span class="kw">c</span>(<span class="st">&quot;Sepal.Width&quot;</span>, <span class="st">&quot;Sepal.Length&quot;</span>)) <span class="co"># keep only these features</span></a>
<a class="sourceLine" id="cb20-3" title="3">task<span class="op">$</span><span class="kw">filter</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">3</span>) <span class="co"># keep only these rows</span></a>
<a class="sourceLine" id="cb20-4" title="4">task<span class="op">$</span><span class="kw">head</span>()</a>
<a class="sourceLine" id="cb20-5" title="5"><span class="co">##    Species Sepal.Length Sepal.Width</span></a>
<a class="sourceLine" id="cb20-6" title="6"><span class="co">## 1:  setosa          5.1         3.5</span></a>
<a class="sourceLine" id="cb20-7" title="7"><span class="co">## 2:  setosa          4.9         3.0</span></a>
<a class="sourceLine" id="cb20-8" title="8"><span class="co">## 3:  setosa          4.7         3.2</span></a></code></pre></div>
<p>Additionally, methods <code>.$rbind()</code> and <code>.$cbind()</code> allow to add extra rows and columns to a task, respectively.
Again, the original data set stored in the original <a href="https://mlr3.mlr-org.com/reference/DataBackend.html"><code>DataBackend</code></a> is not altered in any way.</p>
<div class="sourceCode" id="cb21"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb21-1" title="1">task<span class="op">$</span><span class="kw">cbind</span>(<span class="kw">data.table</span>(<span class="dt">foo =</span> letters[<span class="dv">1</span><span class="op">:</span><span class="dv">3</span>])) <span class="co"># add column foo</span></a>
<a class="sourceLine" id="cb21-2" title="2">task<span class="op">$</span><span class="kw">head</span>()</a>
<a class="sourceLine" id="cb21-3" title="3"><span class="co">##    Species Sepal.Length Sepal.Width foo</span></a>
<a class="sourceLine" id="cb21-4" title="4"><span class="co">## 1:  setosa          5.1         3.5   a</span></a>
<a class="sourceLine" id="cb21-5" title="5"><span class="co">## 2:  setosa          4.9         3.0   b</span></a>
<a class="sourceLine" id="cb21-6" title="6"><span class="co">## 3:  setosa          4.7         3.2   c</span></a></code></pre></div>
</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="tasks-learners.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="learners.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": true,
"facebook": false,
"twitter": true,
"google": false,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/mlr-org/mlr3book/edit/master/bookdown/01-mlr3-basics.Rmd",
"text": "Edit this chapter"
},
"history": {
"link": "https://github.com/mlr-org/mlr3book/commits/master/01-mlr3-basics.Rmd",
"text": "Eedit history"
},
"download": {},
"toc": {
"collapse": "section"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:" && /^https?:/.test(src))
      src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
